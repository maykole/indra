<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>AdminLTE 2 | Dashboard</title>
 
  <!-- Font Awesome -->
  <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
  <style>
  li.header{
    font-weight:bold;
    color: #efefef !important;
  }
  div.content-wrapper{
    background: #fff;
  }
  </style>
</head>
<body style="margin:20px;">
<div style="width: 800px;" id="content">
  <div class="row text-center" style="text-align: center;">
      <h2>Plan Anual de Auditoria <span id="lblanio">2018</span></h2>
  </div>
 
<table>
  
  <tr>
    <td><span style="padding: 5px 10px;font-size:12px;">Periodo: </span> </td>
    <td><label style="font-weight: bold;padding: 5px 10px; border: solid 1px #efefef;">Enero 2018 - Diciembre 2018</label></td>
    <td><span style="padding: 5px 10px;">Fecha de Creación: </span> </td>
    <td><label style="font-weight: bold;padding: 5px 10px; border: solid 1px #efefef;">05 de Diciembre del 2018</label></td>
    </tr>
    <tr>
    <td><span style="padding: 5px 10px;">Generado por: </span> </td>
    <td><label style="font-weight: bold;padding: 5px 10px; border: solid 1px #efefef;">Alberto Rodriguez</label></td>
  </tr>
</table>

  <div style="text-align: center;">
    <h2></h2>
  </div>
  
<form>
 <fieldset>
   <legend>Procesos del Plan Anual de Auditoria 2019</legend>
    <div>
    <table>
     <thead>
      <th>Proceso</th>
      <th>Perioridad</th>
      <th>Duración (días habiles)</th>
     </thead>
     <tbody>
      <tr>
       <td>Proceso 1</td>
       <td>Alta</td>
       <td>40</td>
      </tr>
      <tr>
       <td>Proceso 2</td>
       <td>Baja</td>
       <td>30</td>
      </tr>
      <tr>
       <td>Proceso 3</td>
       <td>Alta</td>
       <td>45</td>
      </tr>
     </tbody>
    </table>
    </div>
  </fieldset>
 </form>
   
 
</div>
<div id="editor"></div>
 <button id="cmd">generate PDF</button>
  <!-- jQuery 3 -->
  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <!-- jQuery UI 1.11.4 -->
  <script src="bower_components/jquery-ui/jquery-ui.min.js"></script>

<!-- Bootstrap 3.3.7 -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.3/jspdf.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>



    $(window).on('load', function() {
      
     

 $('#cmd').click(function () {


 var specialElementHandlers = {
        // element with id of "bypass" - jQuery style selector
        '.no-export': function(element, renderer) {
          // true = "handled elsewhere, bypass text extraction"
          return true;
        }
      };

      var doc = new jsPDF('p', 'pt', 'a4');
      //A4 - 595x842 pts
      //https://www.gnu.org/software/gv/manual/html_node/Paper-Keywords-and-paper-size-in-points.html


      //Html source 
      var source = document.getElementById('content').innerHTML;

      var margins = {
        top: 10,
        bottom: 10,
        left: 10,
        width: 595
      };

      doc.fromHTML(
        source, // HTML string or DOM elem ref.
        margins.left,
        margins.top, {
          'width': margins.width,
          'elementHandlers': specialElementHandlers
        },

        function(dispose) {
          // dispose: object with X, Y of the last line add to the PDF 
          //          this allow the insertion of new lines after html
          doc.save('Test.pdf');
        }, margins);
      


 });



    });


</script>


</body>
</html>